{"ast":null,"code":"var _jsxFileName = \"/Users/anupjaiswal/Desktop/e_commerce/src/components/SearchBar/SearchBar.jsx\",\n    _s = $RefreshSig$();\n\nimport { useProducts } from \"../../contexts/productContext\";\nimport { useLocation } from \"react-router-dom\";\nimport { useAuth } from \"../../contexts/authContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchBar = () => {\n  _s();\n\n  const {\n    searchVal,\n    setSearchVal,\n    productDispatch,\n    productState,\n    filterTypes: {\n      CLEAR_FILTERS\n    }\n  } = useProducts();\n  const {\n    navigate\n  } = useAuth();\n  const location = useLocation();\n\n  const navigateToProducts = () => {\n    if (location.pathname !== \"/products\") {\n      navigate(\"/products\");\n    }\n  };\n\n  const onChangeHandler = e => {\n    productDispatch({\n      type: CLEAR_FILTERS,\n      payload: {\n        data: productState.products\n      }\n    });\n    setSearchVal(e.target.value);\n    navigateToProducts();\n  };\n\n  const debounce = function (fn) {\n    let delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n    let timer = 0;\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        fn(...args);\n      }, delay);\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    type: \"text\",\n    placeholder: \"Search\",\n    onChange: debounce(onChangeHandler, 500)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchBar, \"Gol9nGiSYSKEvwBP/JlPJRlo6Rw=\", false, function () {\n  return [useProducts, useAuth, useLocation];\n});\n\n_c = SearchBar;\nexport { SearchBar };\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"sources":["/Users/anupjaiswal/Desktop/e_commerce/src/components/SearchBar/SearchBar.jsx"],"names":["useProducts","useLocation","useAuth","SearchBar","searchVal","setSearchVal","productDispatch","productState","filterTypes","CLEAR_FILTERS","navigate","location","navigateToProducts","pathname","onChangeHandler","e","type","payload","data","products","target","value","debounce","fn","delay","timer","args","clearTimeout","setTimeout"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,+BAA5B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,OAAT,QAAwB,4BAAxB;;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AACtB,QAAM;AACJC,IAAAA,SADI;AAEJC,IAAAA,YAFI;AAGJC,IAAAA,eAHI;AAIJC,IAAAA,YAJI;AAKJC,IAAAA,WAAW,EAAE;AAAEC,MAAAA;AAAF;AALT,MAMFT,WAAW,EANf;AAOA,QAAM;AAAEU,IAAAA;AAAF,MAAeR,OAAO,EAA5B;AAEA,QAAMS,QAAQ,GAAGV,WAAW,EAA5B;;AAEA,QAAMW,kBAAkB,GAAG,MAAM;AAC/B,QAAID,QAAQ,CAACE,QAAT,KAAsB,WAA1B,EAAuC;AACrCH,MAAAA,QAAQ,CAAC,WAAD,CAAR;AACD;AACF,GAJD;;AAMA,QAAMI,eAAe,GAAIC,CAAD,IAAO;AAC7BT,IAAAA,eAAe,CAAC;AACdU,MAAAA,IAAI,EAAEP,aADQ;AAEdQ,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAEX,YAAY,CAACY;AAArB;AAFK,KAAD,CAAf;AAIAd,IAAAA,YAAY,CAACU,CAAC,CAACK,MAAF,CAASC,KAAV,CAAZ;AACAT,IAAAA,kBAAkB;AACnB,GAPD;;AASA,QAAMU,QAAQ,GAAG,UAACC,EAAD,EAAqB;AAAA,QAAhBC,KAAgB,uEAAR,GAAQ;AACpC,QAAIC,KAAK,GAAG,CAAZ;AAEA,WAAO,YAAa;AAAA,wCAATC,IAAS;AAATA,QAAAA,IAAS;AAAA;;AAClBC,MAAAA,YAAY,CAACF,KAAD,CAAZ;AACAA,MAAAA,KAAK,GAAGG,UAAU,CAAC,MAAM;AACvBL,QAAAA,EAAE,CAAC,GAAGG,IAAJ,CAAF;AACD,OAFiB,EAEfF,KAFe,CAAlB;AAGD,KALD;AAMD,GATD;;AAWA,sBACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,WAAW,EAAC,QAFd;AAGE,IAAA,QAAQ,EAAEF,QAAQ,CAACR,eAAD,EAAkB,GAAlB;AAHpB;AAAA;AAAA;AAAA;AAAA,UADF;AAOD,CA7CD;;GAAMX,S;UAOAH,W,EACiBE,O,EAEJD,W;;;KAVbE,S;AA+CN,SAASA,SAAT","sourcesContent":["import { useProducts } from \"../../contexts/productContext\";\nimport { useLocation } from \"react-router-dom\";\nimport { useAuth } from \"../../contexts/authContext\";\n\nconst SearchBar = () => {\n  const {\n    searchVal,\n    setSearchVal,\n    productDispatch,\n    productState,\n    filterTypes: { CLEAR_FILTERS },\n  } = useProducts();\n  const { navigate } = useAuth();\n\n  const location = useLocation();\n\n  const navigateToProducts = () => {\n    if (location.pathname !== \"/products\") {\n      navigate(\"/products\");\n    }\n  };\n\n  const onChangeHandler = (e) => {\n    productDispatch({\n      type: CLEAR_FILTERS,\n      payload: { data: productState.products },\n    });\n    setSearchVal(e.target.value);\n    navigateToProducts();\n  };\n\n  const debounce = (fn, delay = 500) => {\n    let timer = 0;\n\n    return (...args) => {\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        fn(...args);\n      }, delay);\n    };\n  };\n\n  return (\n    <input\n      type=\"text\"\n      placeholder=\"Search\"\n      onChange={debounce(onChangeHandler, 500)}\n    />\n  );\n};\n\nexport { SearchBar };\n"]},"metadata":{},"sourceType":"module"}